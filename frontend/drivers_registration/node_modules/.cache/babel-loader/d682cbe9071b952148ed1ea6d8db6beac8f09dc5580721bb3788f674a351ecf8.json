{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\WEB_\\\\frontend\\\\drivers_registration\\\\src\\\\pages\\\\userDashboard\\\\CreateLicense.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { createLicenseApi } from '../../apis/Api';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n// import './CreateLicense.css'; // Import CSS file for styling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateLicense = () => {\n  _s();\n  const [licenseData, setLicenseData] = useState({\n    licenseName: '',\n    licenseImage: null,\n    previewImage: null\n  });\n  const loggedInUserId = JSON.parse(localStorage.getItem('user'))._id;\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setLicenseData({\n      ...licenseData,\n      [name]: value\n    });\n  };\n  const handleImageUpload = async e => {\n    const file = e.target.files[0];\n    const preview = URL.createObjectURL(file);\n    setLicenseData({\n      ...licenseData,\n      licenseImage: file,\n      previewImage: preview\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const formData = new FormData();\n      formData.append('licenseName', licenseData.licenseName);\n      formData.append('licenseImage', licenseData.licenseImage);\n      formData.append('userId', loggedInUserId);\n      await createLicenseApi(formData);\n      toast.success('License added successfully');\n      setLicenseData({\n        licenseName: '',\n        licenseImage: null,\n        previewImage: null\n      });\n    } catch (error) {\n      console.error('Error creating license:', error.message);\n      toast.error('Error creating license. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-license-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Create License\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"licenseName\",\n          children: \"License Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"licenseName\",\n          name: \"licenseName\",\n          value: licenseData.licenseName,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"licenseImage\",\n          children: \"License Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"licenseImage\",\n          name: \"licenseImage\",\n          onChange: handleImageUpload,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), licenseData.previewImage && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: licenseData.previewImage,\n          alt: \"Preview\",\n          className: \"preview-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 40\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Create License\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateLicense, \"lsLFIHgBgBhBliajjfFEj8GZfJk=\");\n_c = CreateLicense;\nexport default CreateLicense;\nvar _c;\n$RefreshReg$(_c, \"CreateLicense\");","map":{"version":3,"names":["React","useState","createLicenseApi","ToastContainer","toast","jsxDEV","_jsxDEV","CreateLicense","_s","licenseData","setLicenseData","licenseName","licenseImage","previewImage","loggedInUserId","JSON","parse","localStorage","getItem","_id","handleChange","e","name","value","target","handleImageUpload","file","files","preview","URL","createObjectURL","handleSubmit","preventDefault","formData","FormData","append","success","error","console","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","onChange","required","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/WEB_/frontend/drivers_registration/src/pages/userDashboard/CreateLicense.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { createLicenseApi } from '../../apis/Api';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n// import './CreateLicense.css'; // Import CSS file for styling\r\n\r\nconst CreateLicense = () => {\r\n  const [licenseData, setLicenseData] = useState({\r\n    licenseName: '',\r\n    licenseImage: null,\r\n    previewImage: null,\r\n  });\r\n\r\n  const loggedInUserId = JSON.parse(localStorage.getItem('user'))._id;\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setLicenseData({ ...licenseData, [name]: value });\r\n  };\r\n\r\n  const handleImageUpload = async (e) => {\r\n    const file = e.target.files[0];\r\n    const preview = URL.createObjectURL(file);\r\n    setLicenseData({ ...licenseData, licenseImage: file, previewImage: preview });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('licenseName', licenseData.licenseName);\r\n      formData.append('licenseImage', licenseData.licenseImage);\r\n      formData.append('userId', loggedInUserId);\r\n      \r\n      await createLicenseApi(formData);\r\n      toast.success('License added successfully');\r\n      setLicenseData({\r\n        licenseName: '',\r\n        licenseImage: null,\r\n        previewImage: null,\r\n      });\r\n    } catch (error) {\r\n      console.error('Error creating license:', error.message);\r\n      toast.error('Error creating license. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-license-container\">\r\n      <h2>Create License</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"licenseName\">License Name</label>\r\n          <input type=\"text\" id=\"licenseName\" name=\"licenseName\" value={licenseData.licenseName} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"licenseImage\">License Image</label>\r\n          <input type=\"file\" id=\"licenseImage\" name=\"licenseImage\" onChange={handleImageUpload} required />\r\n          {licenseData.previewImage && <img src={licenseData.previewImage} alt=\"Preview\" className=\"preview-image\" />}\r\n        </div>\r\n        <div className=\"button-group\">\r\n          <button type=\"submit\">Create License</button>\r\n        </div>\r\n      </form>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateLicense;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}